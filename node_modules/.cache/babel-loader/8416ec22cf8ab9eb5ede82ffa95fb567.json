{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\NARVAEZ\\\\Desktop\\\\CARPETA DE PROYECTOS-PRACTICAS\\\\API Tiempo ReactJs\\\\api-weather\\\\src\\\\components\\\\PanelWheather.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Form from \"./Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PanelWheather = () => {\n  _s();\n\n  let urlWeather = \"https://api.openweathermap.org/data/2.5/weather?appid=237d6f5dd8ff023845666cb58f2b92bf&lang=es\";\n  let cityUrl = \"&q=\";\n  let urlForecast = \"https://api.openweathermap.org/data/2.5/forecast?appid=237d6f5dd8ff023845666cb58f2b92bf&lang=es\";\n  const [weather, setWeather] = useState([]);\n  const [forecast, setForecast] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [show, setShow] = useState(false);\n  const [location, setLocation] = useState(\"\");\n\n  const getLocation = async loc => {\n    setLoading(true);\n    setLocation(loc); // weather\n\n    urlWeather = urlWeather + cityUrl + loc;\n    await fetch(urlWeather).then(response => {\n      if (!response.ok) throw {\n        response\n      };\n      return response.json();\n    }).then(weatherData => {\n      setWeather(weatherData);\n      setWeather(weatherData);\n    }).catch(error => {\n      console.log(error);\n      setLoading(false);\n      setShow(false);\n    }); // forescat\n\n    urlForecast = urlForecast + cityUrl + loc;\n    await fetch(urlForecast).then(response => {\n      if (!response.ok) throw {\n        response\n      };\n      return response.json();\n    }).then(forecastData => {\n      console.log(forecast);\n      setForecast(forecastData);\n      setLoading(false);\n      setShow(true);\n    }).catch(error => {\n      console.log(error);\n      setLoading(false);\n      setShow(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      newLocation: getLocation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PanelWheather, \"DmLMNDQIvEa8cHX36yZIRFSepWA=\");\n\n_c = PanelWheather;\nexport default PanelWheather;\n\nvar _c;\n\n$RefreshReg$(_c, \"PanelWheather\");","map":{"version":3,"names":["React","useState","Form","PanelWheather","urlWeather","cityUrl","urlForecast","weather","setWeather","forecast","setForecast","loading","setLoading","show","setShow","location","setLocation","getLocation","loc","fetch","then","response","ok","json","weatherData","catch","error","console","log","forecastData"],"sources":["C:/Users/NARVAEZ/Desktop/CARPETA DE PROYECTOS-PRACTICAS/API Tiempo ReactJs/api-weather/src/components/PanelWheather.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Form from \"./Form\";\r\n\r\nconst PanelWheather = () => {\r\n\r\n    let urlWeather = \"https://api.openweathermap.org/data/2.5/weather?appid=237d6f5dd8ff023845666cb58f2b92bf&lang=es\"\r\n    let cityUrl = \"&q=\"\r\n\r\n    let urlForecast = \"https://api.openweathermap.org/data/2.5/forecast?appid=237d6f5dd8ff023845666cb58f2b92bf&lang=es\"\r\n\r\n    const [weather, setWeather] = useState([])\r\n    const [forecast, setForecast] = useState([])\r\n    const [loading, setLoading] = useState(false)\r\n    const [show, setShow] = useState(false)\r\n    const [location, setLocation] = useState(\"\")\r\n\r\n    const getLocation = async (loc) => {\r\n        setLoading(true)\r\n        setLocation(loc)\r\n\r\n        // weather\r\n        urlWeather = urlWeather + cityUrl + loc\r\n\r\n        await fetch(urlWeather).then((response) => {\r\n            if(!response.ok) throw { response }\r\n            return response.json()\r\n\r\n        }).then((weatherData) => {\r\n            setWeather(weatherData)\r\n            setWeather(weatherData)\r\n        }).catch(error => {\r\n            console.log(error)\r\n            setLoading(false)\r\n            setShow(false)\r\n\r\n        })\r\n\r\n        // forescat\r\n\r\n        urlForecast = urlForecast + cityUrl + loc\r\n\r\n        await fetch(urlForecast).then((response) => {\r\n            if (!response.ok) throw { response }\r\n            return response.json()\r\n\r\n        }).then((forecastData) => {\r\n            console.log(forecast)\r\n            setForecast(forecastData)\r\n            setLoading(false);\r\n            setShow(true)\r\n\r\n        }).catch(error => {\r\n            console.log(error)\r\n            setLoading(false)\r\n            setShow(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Form\r\n                newLocation={getLocation}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default PanelWheather"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,QAAjB;;;AAEA,MAAMC,aAAa,GAAG,MAAM;EAAA;;EAExB,IAAIC,UAAU,GAAG,gGAAjB;EACA,IAAIC,OAAO,GAAG,KAAd;EAEA,IAAIC,WAAW,GAAG,iGAAlB;EAEA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,KAAD,CAAhC;EACA,MAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;;EAEA,MAAMgB,WAAW,GAAG,MAAOC,GAAP,IAAe;IAC/BN,UAAU,CAAC,IAAD,CAAV;IACAI,WAAW,CAACE,GAAD,CAAX,CAF+B,CAI/B;;IACAd,UAAU,GAAGA,UAAU,GAAGC,OAAb,GAAuBa,GAApC;IAEA,MAAMC,KAAK,CAACf,UAAD,CAAL,CAAkBgB,IAAlB,CAAwBC,QAAD,IAAc;MACvC,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB,MAAM;QAAED;MAAF,CAAN;MACjB,OAAOA,QAAQ,CAACE,IAAT,EAAP;IAEH,CAJK,EAIHH,IAJG,CAIGI,WAAD,IAAiB;MACrBhB,UAAU,CAACgB,WAAD,CAAV;MACAhB,UAAU,CAACgB,WAAD,CAAV;IACH,CAPK,EAOHC,KAPG,CAOGC,KAAK,IAAI;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACAd,UAAU,CAAC,KAAD,CAAV;MACAE,OAAO,CAAC,KAAD,CAAP;IAEH,CAZK,CAAN,CAP+B,CAqB/B;;IAEAR,WAAW,GAAGA,WAAW,GAAGD,OAAd,GAAwBa,GAAtC;IAEA,MAAMC,KAAK,CAACb,WAAD,CAAL,CAAmBc,IAAnB,CAAyBC,QAAD,IAAc;MACxC,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB,MAAM;QAAED;MAAF,CAAN;MAClB,OAAOA,QAAQ,CAACE,IAAT,EAAP;IAEH,CAJK,EAIHH,IAJG,CAIGS,YAAD,IAAkB;MACtBF,OAAO,CAACC,GAAR,CAAYnB,QAAZ;MACAC,WAAW,CAACmB,YAAD,CAAX;MACAjB,UAAU,CAAC,KAAD,CAAV;MACAE,OAAO,CAAC,IAAD,CAAP;IAEH,CAVK,EAUHW,KAVG,CAUGC,KAAK,IAAI;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACAd,UAAU,CAAC,KAAD,CAAV;MACAE,OAAO,CAAC,KAAD,CAAP;IACH,CAdK,CAAN;EAeH,CAxCD;;EA0CA,oBACI,QAAC,KAAD,CAAO,QAAP;IAAA,uBACI,QAAC,IAAD;MACI,WAAW,EAAEG;IADjB;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAOH,CA9DD;;GAAMd,a;;KAAAA,a;AAgEN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}